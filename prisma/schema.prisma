generator client {
  provider = "prisma-client"
  output   = "./generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model User {
  id            Int       @id @default(autoincrement())
  email         String?   @unique
  username      String?   @unique
  firstname     String?
  lastname      String?
  password      String?
  countryCode   String?
  phone         String?
  agreedTerms   Boolean?
  avatar        String?
  googleId      String?
  facebookId    String?
  linkedinId    String?
  appleId       String?
  emailVerified Boolean?
  createdAt     DateTime? @default(now())
  updatedAt     DateTime? @updatedAt
  sessions      Session[]
  otps          OTP[]
}

model Session {
  id        Int       @id @default(autoincrement())
  token     String?   @unique
  expiresAt DateTime?
  userId    Int?
  user      User?     @relation(fields: [userId], references: [id], onDelete: Cascade)
  createdAt DateTime? @default(now())
  updatedAt DateTime? @updatedAt
}

model OTP {
  id        Int       @id @default(autoincrement())
  token     String?   @unique
  expiresAt DateTime?
  userId    Int?
  user      User?     @relation(fields: [userId], references: [id], onDelete: Cascade)
  createdAt DateTime? @default(now())
  updatedAt DateTime? @updatedAt
}
